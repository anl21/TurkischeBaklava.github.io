<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="theme" content="Chirpy v2.7.0"><meta name="generator" content="Jekyll v4.1.1" /><meta property="og:title" content="Data Types And Case Expression" /><meta name="author" content="Alper Gunes" /><meta property="og:locale" content="en_US" /><meta name="description" content="A programming language should categorize its variables into some types at some point during the life cycle of a program. We can categorize the types into two as base types and compound types. Programming languages have base types, like int, bool ,char and compound types, which are types contain other types in their definition, like list, tuple, options etc." /><meta property="og:description" content="A programming language should categorize its variables into some types at some point during the life cycle of a program. We can categorize the types into two as base types and compound types. Programming languages have base types, like int, bool ,char and compound types, which are types contain other types in their definition, like list, tuple, options etc." /><link rel="canonical" href="https://alpergunes.me/posts/Sec-2-Datatypes/" /><meta property="og:url" content="https://alpergunes.me/posts/Sec-2-Datatypes/" /><meta property="og:site_name" content="Web-Chunks" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-12-26T00:35:29+03:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Data Types And Case Expression" /><meta name="twitter:site" content="@pearlgunns" /><meta name="twitter:creator" content="@Alper Gunes" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"A programming language should categorize its variables into some types at some point during the life cycle of a program. We can categorize the types into two as base types and compound types. Programming languages have base types, like int, bool ,char and compound types, which are types contain other types in their definition, like list, tuple, options etc.","url":"https://alpergunes.me/posts/Sec-2-Datatypes/","headline":"Data Types And Case Expression","dateModified":"2020-12-26T00:35:29+03:00","@type":"BlogPosting","datePublished":"2020-12-26T00:35:29+03:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://alpergunes.me/posts/Sec-2-Datatypes/"},"author":{"@type":"Person","name":"Alper Gunes"},"@context":"https://schema.org"}</script><title>Data Types And Case Expression | Web-Chunks</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" href="/assets/css/post.css" as="style"><link rel="stylesheet" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="/assets/js/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column"><div id="nav-wrapper"><div id="profile-wrapper" class="d-flex flex-column"><div id="avatar" class="d-flex justify-content-center"> <a href="/" alt="avatar"> <img src="/assets/img/sample/profilepic.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="profile-text mt-3"><div class="site-title"> <a href="/">Web-Chunks</a></div><div class="site-subtitle font-italic">Hey! I am Alper, self-taught programmer. This is my CS focused blog site where I keep my notes during OSSU studies. Check OSSU curriculum for further readings.</div></div></div><ul class="nav flex-column"><li class="nav-item d-flex justify-content-center "> <a href="/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/categories/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/tags/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/archives/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/about/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT ME</span> </a></ul></div><div class="sidebar-bottom d-flex flex-wrap justify-content-around mt-4"> <span id="mode-toggle-wrapper"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span> <span class="icon-border"></span> <a href="https://github.com/TurkischeBaklava" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/pearlgunns" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['alpergunesss','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Data Types And Case Expression</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Data Types And Case Expression</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sat, Dec 26, 2020, 12:35 AM +0300" > Dec 26 <i class="unloaded">2020-12-26T00:35:29+03:00</i> </span> by <span class="author"> Alper Gunes </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1007 words">5 min</span></div></div><div class="post-content"><p>A programming language should categorize its variables into some types at some point during the life cycle of a program. We can categorize the types into two as <em>base types</em> and <em>compound types</em>. Programming languages have base types, like int, bool ,char and compound types, which are types contain other types in their definition, like list, tuple, options etc.</p><p>To create a compound type, there are really only three essential building blocks. Any decent programming language provides these building blocks in some way.</p><p><br /></p><p><strong>Each-of (also known as product types):</strong> A compound type t describes values that contain each of values of type t1, t2, …, and tn.</p><p><strong>One-of (also known as sum types):</strong> A compound type t describes values that contain a value of one of the types t1, t2, …, or tn.</p><p><strong>Self-reference (also known as recursive types):</strong> A compound type t may refer to itself in its definition in order to describe recursive data structures like lists and trees. <br /></p><p><br /></p><h3 id="examples"><strong>Examples</strong></h3><p>Tuples build each-of types</p><ul><li><em>int * bool</em> contains an int and a bool</ul><p>Options build one-of types</p><ul><li><em>int option</em> contains an int or it contains no data</ul><p>Lists use all three building blocks</p><ul><li><em>int list</em> contains an int and another int list or it contains no data</ul><p><br /></p><h2 id="datatype-bindings">Datatype Bindings</h2><div class="language-ml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kr">datatype</span> <span class="kt">mytype</span> <span class="p">=</span> <span class="nc">TwoInts</span> <span class="kr">of</span> <span class="n">int</span> <span class="n">*</span> <span class="n">int</span>
				<span class="p">|</span> <span class="nc">Str</span> <span class="kr">of</span> <span class="n">string</span>
				<span class="p">|</span> <span class="nc">Kebab</span>
</pre></table></code></div></div><ul><li>Adds a new type mytype to the environment<li>Adds constructors to the environment: TwoInts, Str, and Kebab<li>A constructor is (among other things), a function that makes values of the new type (or is a value of the new type):<ul><li>TwoInts : <strong>int * int -&gt; mytype</strong><li>Str : <strong>string -&gt; mytype</strong><li>Kebab : <strong>mytype</strong></ul></ul><p><br /></p><h2 id="how-can-we-access-to-datatype-values-case-expression">How can we access to datatype values: Case Expression</h2><p><br /></p><div class="language-ml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="kr">fun</span> <span class="nf">f</span> <span class="n">x</span> <span class="p">=</span> <span class="c">(*</span><span class="cm"> f has type mytype -&gt; string *)</span>
	<span class="kr">case</span> <span class="n">x</span> <span class="kr">of</span>
	<span class="n">Kebab</span> <span class="p">=&gt;</span> <span class="s2">"Doner Kebab"</span>
	<span class="p">|</span> <span class="n">Str</span> <span class="n">s</span> <span class="p">=&gt;</span> <span class="n">s</span>
	<span class="p">|</span> <span class="n">TwoInts</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">(</span><span class="nn">Int</span><span class="p">.</span><span class="n">toString</span> <span class="n">x</span><span class="p">)</span> <span class="n">^</span> <span class="p">(</span><span class="nn">Int</span><span class="p">.</span><span class="n">toString</span> <span class="n">y</span><span class="p">)</span> <span class="c">(*</span><span class="cm"> Here pattern matching is like a let expression: It binds variables in a local scope.*)</span>
</pre></table></code></div></div><p><em>Each branch has the form <strong>p =&gt; e</strong> where p is a pattern and e is an expression.</em></p><p><br /></p><h2 id="some-useful-examples-of-one-of-types">Some Useful Examples of “One-of” Types</h2><p><br /></p><p>Enumarting a fixed set of options:</p><div class="language-ml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="kr">datatype</span> <span class="kt">suit</span> <span class="p">=</span> <span class="nc">Club</span> <span class="p">|</span> <span class="nc">Diamond</span> <span class="p">|</span> <span class="nc">Heart</span> <span class="p">|</span> <span class="nc">Spade</span>
<span class="kr">datatype</span> <span class="kt">rank</span> <span class="p">=</span> <span class="nc">Jack</span> <span class="p">|</span> <span class="nc">Queen</span> <span class="p">|</span> <span class="nc">King</span> <span class="p">|</span> <span class="nc">Ace</span> <span class="p">|</span> <span class="nc">Num</span> <span class="kr">of</span> <span class="n">int</span> 

<span class="c">(*</span><span class="cm"> As it seen in the code, Unlike C and Java, ML lets variants carry data*)</span>
</pre></table></code></div></div><p>We can then combine the two pieces with an each-of type: <code class="language-plaintext highlighter-rouge">type cards = suit * rank</code></p><p><br /></p><h2 id="another-useful-example-of-one-of-types">Another useful example of one-of types:</h2><p><br /></p><blockquote><p>Suppose you wan to indetify students by their id-number, but in case there are students that do not have one, then you will use their full name instead.</p></blockquote><blockquote><p>This datatype captures the idea directly:</p></blockquote><div class="language-ml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="kr">datatype</span> <span class="kt">id</span> <span class="p">=</span> <span class="nc">StudentNum</span> <span class="kr">of</span> <span class="n">int</span>
		 	<span class="p">|</span> <span class="nc">Name</span> <span class="kr">of</span> <span class="n">string</span> <span class="n">*</span> <span class="p">(</span><span class="n">string</span> <span class="n">option</span><span class="p">)</span> <span class="n">*</span> <span class="n">string</span>
</pre></table></code></div></div><p><br /></p><p>Above in the code, a student only can have either a number or name. Which is perfectly proper approach for the one-of types. However most people insist on using each-of types which is considired bad code:</p><div class="language-ml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>	<span class="c">(*</span><span class="cm"> If student_num is -1, then use the other fields, otherwise ignore other fields *)</span>
	<span class="p">{</span><span class="n">student_num</span> <span class="p">:</span> <span class="n">int</span><span class="p">,</span> <span class="n">first</span> <span class="p">:</span> <span class="n">string</span><span class="p">,</span> <span class="n">middle</span> <span class="p">:</span> <span class="n">string</span> <span class="n">option</span><span class="p">,</span> <span class="n">last</span> <span class="p">:</span> <span class="n">string</span><span class="p">}</span>
</pre></table></code></div></div><p>On the other hand, each-of types are exactly the right approach if we want to store for each student their id-number (if they have one) and their full name:</p><div class="language-ml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="p">{</span> <span class="n">student_num</span> <span class="p">:</span> <span class="n">int</span> <span class="n">option</span><span class="p">,</span>
  <span class="n">first</span>       <span class="p">:</span> <span class="n">string</span><span class="p">,</span>
  <span class="n">middle</span>      <span class="p">:</span> <span class="n">string</span> <span class="n">option</span><span class="p">,</span>
  <span class="n">last</span>        <span class="p">:</span> <span class="n">string</span> <span class="p">}</span>
</pre></table></code></div></div><p><br /></p><p>Our last example is a data definition for arithmetic expressions containing constants, negations, additions, and multiplications.</p><div class="language-ml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="kr">datatype</span> <span class="kt">exp</span> <span class="p">=</span> <span class="nc">Constant</span> <span class="kr">of</span> <span class="n">int</span>
			 <span class="p">|</span> <span class="nc">Negate</span> <span class="kr">of</span> <span class="n">exp</span>
			 <span class="p">|</span> <span class="nc">Add</span> <span class="kr">of</span> <span class="n">exp</span> <span class="n">*</span> <span class="n">exp</span>
			 <span class="p">|</span> <span class="nc">Multiply</span> <span class="kr">of</span> <span class="n">exp</span> <span class="n">*</span> <span class="n">exp</span>
</pre></table></code></div></div><p>Thanks to the self-reference, what this data definition really describes is trees where the leaves are integers and the internal nodes are either negations with one child, additions with two children or multiplications with two children.</p><p>We can write a function that takes an exp and evaluates it:</p><div class="language-ml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="kr">fun</span> <span class="nf">eval</span> <span class="n">e</span> <span class="p">=</span>
	<span class="kr">case</span> <span class="n">e</span> <span class="kr">of</span>
		<span class="n">Constant</span> <span class="n">i</span> <span class="p">=&gt;</span> <span class="n">i</span>
	  	<span class="p">|</span> <span class="n">Negate</span> <span class="n">e2</span> <span class="p">=&gt;</span> <span class="n">~</span> <span class="p">(</span><span class="n">eval</span> <span class="n">e2</span><span class="p">)</span>
		<span class="p">|</span> <span class="n">Add</span><span class="p">(</span><span class="n">e1</span><span class="p">,</span><span class="n">e2</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">(</span><span class="n">eval</span> <span class="n">e1</span><span class="p">)</span> <span class="n">+</span> <span class="p">(</span><span class="n">eval</span> <span class="n">e2</span><span class="p">)</span>
		<span class="p">|</span> <span class="n">Multiply</span><span class="p">(</span><span class="n">e1</span><span class="p">,</span><span class="n">e2</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">(</span><span class="n">eval</span> <span class="n">e1</span><span class="p">)</span> <span class="n">*</span> <span class="p">(</span><span class="n">eval</span> <span class="n">e2</span><span class="p">)</span>
</pre></table></code></div></div><p><em>Functions over recursive datatypes are usually recursive.</em></p><blockquote><p>So this function call evaluates to 15: <code class="language-plaintext highlighter-rouge">eval (Add (Constant 19, Negate (Constant 4)))</code></p></blockquote><p><br /></p><h2 id="list-and-options-are-datatypes">List and Options are Datatypes</h2><p><br /></p><p><em>Linked list of integers:</em> <br /></p><div class="language-ml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="kr">datatype</span> <span class="kt">my_int_list</span> <span class="p">=</span> <span class="nc">Empty</span>
			<span class="p">|</span> <span class="nc">Cons</span> <span class="kr">of</span> <span class="n">int</span> <span class="n">*</span> <span class="n">my_int_list</span>

<span class="kr">val</span> <span class="nv">one_two_three</span> <span class="p">=</span> <span class="n">Cons</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">Cons</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">Cons</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="n">Empty</span><span class="p">)))</span>	

<span class="kr">fun</span> <span class="nf">append_lists</span> <span class="p">(</span><span class="n">xs</span><span class="p">,</span><span class="n">ys</span><span class="p">)</span> <span class="p">=</span> 
	<span class="kr">case</span> <span class="n">xs</span> <span class="kr">of</span>
	<span class="n">Empty</span> <span class="p">=&gt;</span> <span class="n">ys</span>
	<span class="p">|</span> <span class="n">Cons</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">xs'</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">Cons</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">append_lists</span><span class="p">(</span><span class="n">xs'</span><span class="p">,</span><span class="n">ys</span><span class="p">))</span>	
</pre></table></code></div></div><p><em>Int option datatype:</em></p><div class="language-ml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kr">datatype</span> <span class="kt">int_option</span> <span class="p">=</span> <span class="nc">NONE</span> <span class="p">|</span> <span class="nc">SOME</span> <span class="kr">of</span> <span class="n">int</span>
</pre></table></code></div></div><p><br /></p><h2 id="pattern-matching-on-list-type">Pattern-matching on list type</h2><p><br /></p><p><strong>[]</strong> really is a constructor that carries nothing and <strong>::</strong> really is a constructor that carries two things, but :: is unusual because it is an <em>infix</em> operator (it is placed between its two operands), both when creating things and in patterns:</p><div class="language-ml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="kr">fun</span> <span class="nf">sum_list</span> <span class="n">xs</span> <span class="p">=</span>
	<span class="kr">case</span> <span class="n">xs</span> <span class="kr">of</span>
	<span class="p">[]</span> <span class="p">=&gt;</span> <span class="mi">0</span>
	<span class="p">|</span> <span class="n">x::xs'</span> <span class="p">=&gt;</span> <span class="n">x</span> <span class="n">+</span> <span class="n">sum_list</span> <span class="n">xs'</span>

<span class="kr">fun</span> <span class="nf">append</span> <span class="p">(</span><span class="n">xs</span><span class="p">,</span><span class="n">ys</span><span class="p">)</span> <span class="p">=</span>
	<span class="kr">case</span> <span class="n">xs</span> <span class="kr">of</span>
	<span class="p">[]</span> <span class="p">=&gt;</span> <span class="n">ys</span>
	<span class="p">|</span> <span class="n">x::xs'</span> <span class="p">=&gt;</span> <span class="n">x</span> <span class="n">::</span> <span class="n">append</span><span class="p">(</span><span class="n">xs'</span><span class="p">,</span><span class="n">ys</span><span class="p">)</span>
</pre></table></code></div></div><p><br /></p><h2 id="polymorphic-datatypes">Polymorphic Datatypes</h2><p><br /></p><p>The only thing that distinguishes the built-in lists and options from our example datatype bindings is that the built-in ones are polymorphic - they can be used for carrying values of any type.</p><p>You can do this for your own datatype bindings too, and indeed it is very useful for building “generic” data structures.</p><p><strong>This is exactly how options are pre-defined in the environment:</strong></p><div class="language-ml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kr">datatype</span> <span class="nd">'a</span> <span class="kt">option</span> <span class="p">=</span> <span class="nc">NONE</span> <span class="p">|</span> <span class="nc">SOME</span> <span class="kr">of</span> <span class="nd">'a</span> 
</pre></table></code></div></div><p>Such a binding does not introduce a type option. Rather, it makes it so that if t is a type, then t option is type.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/programming-languages/'>Programming Languages</a>, <a href='/categories/section-2/'>Section 2</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/pl-part-a/" class="post-tag no-text-decoration" >pl part a</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Data Types And Case Expression - Web-Chunks&url=https://alpergunes.me/posts/Sec-2-Datatypes/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Data Types And Case Expression - Web-Chunks&u=https://alpergunes.me/posts/Sec-2-Datatypes/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Data Types And Case Expression - Web-Chunks&url=https://alpergunes.me/posts/Sec-2-Datatypes/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Maps,-Filters-and-Fold/">Map, Filter And Fold</a><li><a href="/posts/The-Pieces-of-Programming-Languages/">The Pieces of Programming Languages</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/pl-part-a/">pl part a</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Tail-Call-Optimization/"><div class="card-body"> <span class="timeago small" > Dec 26 <i class="unloaded">2020-12-26T01:19:29+03:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Tail Call Optimization</h3><div class="text-muted small"><p> One of the characteristic features of functional programming is recursion concept. Recursions are not suppose to be harder than using loops. Actually often much easier than loop: When processin...</p></div></div></a></div><div class="card"> <a href="/posts/Bidings-and-Basics-in-ML/"><div class="card-body"> <span class="timeago small" > Dec 25 <i class="unloaded">2020-12-25T01:29:29+03:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Bindings, Syntax, Type-Checking and Evaulation Rules in SML</h3><div class="text-muted small"><p> Expressions And Variable Bindings in ML An ML program is a sequence of bindings. Each bindings gets type-checked and then (assuming it type-checks) evaluated. Let’s consider variable binding now:...</p></div></div></a></div><div class="card"> <a href="/posts/The-Pieces-of-Programming-Languages/"><div class="card-body"> <span class="timeago small" > Dec 25 <i class="unloaded">2020-12-25T20:20:29+03:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>The Pieces of Programming Languages</h3><div class="text-muted small"><p> Essential “pieces” necessary for defining and learning any programming language: Syntax: How do you write the various parts of the language? Semantics: What do the various language features m...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/The-Pieces-of-Programming-Languages/" class="btn btn-outline-primary"><p>The Pieces of Programming Languages</p></a> <a href="/posts/Tail-Call-Optimization/" class="btn btn-outline-primary"><p>Tail Call Optimization</p></a></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#post-wrapper img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2020 <a href="https://www.linkedin.com/in/gunesalper">Alper Gunes</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/pl-part-a/">pl part a</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://alpergunes.me{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
